package currexx.calculations

import org.scalatest.matchers.must.Matchers
import org.scalatest.wordspec.AnyWordSpec

class MovingAverageCalculatorSpec extends AnyWordSpec with Matchers {

  "A MovingAverageCalculator" should {
    "calculate exponential moving average" in {
      MovingAverageCalculator.ema(values, 12) mustBe 1.302668624517647
      MovingAverageCalculator.ema(values, 26) mustBe 1.3025583952934312
    }
  }

  val values = List(
    1.30305,
    1.30365,
    1.30364,
    1.30483,
    1.30217,
    1.30137,
    1.30080,
    1.30030,
    1.30145,
    1.30129,
    1.30235,
    1.30255,
    1.30229,
    1.30179,
    1.30166,
    1.30197,
    1.30224,
    1.30267,
    1.30283,
    1.30300,
    1.30229,
    1.30327,
    1.30243,
    1.30243,
    1.30315,
    1.30401,
    1.30256,
    1.30360,
    1.30297,
    1.30445,
    1.30520,
    1.30287,
    1.30250,
    1.29906,
    1.30202,
    1.30140,
    1.30138,
    1.30120,
    1.30235,
    1.30206,
    1.30294,
    1.30393,
    1.30314,
    1.30335,
    1.30376,
    1.30274,
    1.30312,
    1.30310,
    1.30063,
    1.29842,
    1.30227,
    1.30311,
    1.30419,
    1.30425,
    1.30435,
    1.30411,
    1.30419,
    1.30707,
    1.30606,
    1.30694,
    1.30682,
    1.30718,
    1.30696,
    1.30685,
    1.30705,
    1.30735,
    1.30741,
    1.30737,
    1.30733,
    1.30665,
    1.30539,
    1.30590,
    1.30651,
    1.30689,
    1.30699,
    1.30815,
    1.30718,
    1.30827,
    1.30727,
    1.30894,
    1.30849,
    1.30855,
    1.30817,
    1.30781,
    1.30830,
    1.30807,
    1.30768,
    1.30689,
    1.30668,
    1.30637,
    1.30673,
    1.30732,
    1.30689,
    1.30760,
    1.30757,
    1.30801,
    1.30883,
    1.30804,
    1.30935,
    1.30856,
  )
}
